<div class="littlewish-modal">
  <div class="modal-header">
    <h1>{{vm.methodname}} 微心愿</h1>
  </div>
  <div class="modal-body col-md-12">
    <form name="vm.littlewishForm" class="form-horizontal" novalidate>
      <fieldset ng-disabled="vm.disabled">
        <div ng-if="vm.method !== 'view'">
          <div class="form-group" show-errors>
            <label class="control-label" for="title">名称</label>
            <input name="title" type="text" ng-model="vm.littlewishData.title" id="title" class="form-control"  required autofocus>
            <div ng-messages="vm.littlewishForm.title.$error" role="alert">
              <p class="help-block error-text" ng-message="required">Littlewish title is required.</p>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label" for="content">内容</label>
            <textarea name="content" data-ng-model="vm.littlewishData.content" id="content" class="form-control" cols="30" rows="10"></textarea>
          </div>
          <div class="form-group" show-errors>
            <label class="control-label" for="fbperson">发布人身份证号</label>
            <input name="IDcard" type="text" ng-model="vm.littlewishData.IDcard" id="IDcard" class="form-control"  required autofocus maxlength="18" minlength="18" ng-pattern="/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/">
            <div ng-messages="vm.littlewishForm.IDcard.$error" role="alert">
              <p class="help-block error-text" ng-message="required">请输入发布人身份证号.</p>
            </div>
            <div ng-messages="vm.littlewishForm.IDcard.$error" role="alert">
              <p class="help-block error-text" ng-message="maxlength">最大位数18位.</p>
            </div>
            <div ng-messages="vm.littlewishForm.IDcard.$error" role="alert">
              <p class="help-block error-text" ng-message="minlength">最小位数18位.</p>
            </div>
            <div ng-messages="vm.littlewishForm.IDcard.$error" role="alert">
              <p class="help-block error-text" ng-message="pattern">身份证有误,请重填.</p>
            </div>
          </div>
          <div class="form-group" show-errors>
            <label class="control-label" for="fbperson">发布人</label>
            <input name="fbperson" type="text" ng-model="vm.littlewishData.fbperson" id="fbperson" class="form-control"  required autofocus>
            <div ng-messages="vm.littlewishForm.fbperson.$error" role="alert">
              <p class="help-block error-text" ng-message="required">请输入发布人.</p>
            </div>
          </div>
          <div class="form-group" show-errors>
            <label class="control-label" for="tel">发布人电话</label>
            <input name="tel" type="text" ng-model="vm.littlewishData.tel" id="tel" ng-pattern="/^1[3|4|5|8][0-9]\d{8}$/" class="form-control"  required autofocus>
            <div ng-messages="vm.littlewishForm.tel.$error" role="alert">
              <p class="help-block error-text" ng-message="required">请输入发布人电话.</p>
            </div>
            <div ng-messages="vm.littlewishForm.tel.$error" role="alert">
              <p class="help-block error-text" ng-message="pattern">请输入电话号码格式有误.</p>
            </div>
          </div>
          <div class="form-group" show-errors>
            <label class="control-label" for="community">所属社区</label>
            <select name="community" id="community" ng-model="vm.littlewishData.community" class="form-control"  ng-options="CommunityV.id as CommunityV.name for CommunityV in vm.CommunityV" required></select>
            <div ng-messages="vm.littlewishForm.community.$error" role="alert">
              <p class="help-block error-text" ng-message="required">请输入社区.</p>
            </div>
          </div>
         <!-- <div class="form-group" ng-if="vm.method === 'view'">
            <label class="control-label" for="state">心愿状态</label>
            <input name="state" type="text" ng-model="vm.littlewishData.state" id="state" class="form-control">
          </div>
          <div class="form-group" ng-if="vm.method === 'view'">
            <label class="control-label" for="claimperson">认领人</label>
            <input name="claimperson" type="text" ng-model="vm.littlewishData.claimperson" id="claimperson" class="form-control">
          </div>-->
        </div>
      </fieldset>
        <uib-tabset active="0" ng-if="vm.method === 'view'">
          <uib-tab index="0" heading="微心愿发布">
            <fieldset ng-disabled="vm.disabled">
            <div class="form-group" show-errors>
              <label class="control-label" for="title">名称</label>
              <input name="title" type="text" ng-model="vm.littlewishData.title" id="title" class="form-control"  required autofocus>
              <div ng-messages="vm.littlewishForm.title.$error" role="alert">
                <p class="help-block error-text" ng-message="required">Littlewish title is required.</p>
              </div>
            </div>
            <div class="form-group">
              <label class="control-label" for="content">内容</label>
              <textarea name="content" data-ng-model="vm.littlewishData.content" id="content" class="form-control" cols="30" rows="10"></textarea>
            </div>
            <div class="form-group" show-errors>
              <label class="control-label" for="fbperson">发布人身份证号</label>
              <input name="IDcard" type="text" ng-model="vm.littlewishData.IDcard" id="IDcard" class="form-control"  required autofocus maxlength="18" minlength="18" ng-pattern="/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/">
              <div ng-messages="vm.littlewishForm.IDcard.$error" role="alert">
                <p class="help-block error-text" ng-message="required">请输入发布人身份证号.</p>
              </div>
              <div ng-messages="vm.littlewishForm.IDcard.$error" role="alert">
                <p class="help-block error-text" ng-message="maxlength">最大位数18位.</p>
              </div>
              <div ng-messages="vm.littlewishForm.IDcard.$error" role="alert">
                <p class="help-block error-text" ng-message="minlength">最小位数18位.</p>
              </div>
              <div ng-messages="vm.littlewishForm.IDcard.$error" role="alert">
                <p class="help-block error-text" ng-message="pattern">身份证有误,请重填.</p>
              </div>
            </div>
            <div class="form-group" show-errors>
              <label class="control-label" for="fbperson">发布人</label>
              <input name="fbperson" type="text" ng-model="vm.littlewishData.fbperson" id="fbperson" class="form-control"  required autofocus>
              <div ng-messages="vm.littlewishForm.fbperson.$error" role="alert">
                <p class="help-block error-text" ng-message="required">请输入发布人.</p>
              </div>
            </div>
              <div class="form-group" show-errors>
                <label class="control-label" for="tel">发布人电话</label>
                <input name="tel" type="text" ng-model="vm.littlewishData.tel" id="tel" class="form-control" ng-pattern="/^1[3|4|5|8][0-9]\d{8}$/" required autofocus>
                <div ng-messages="vm.littlewishForm.tel.$error" role="alert">
                  <p class="help-block error-text" ng-message="required">请输入发布人电话.</p>
                </div>
                <div ng-messages="vm.littlewishForm.tel.$error" role="alert">
                  <p class="help-block error-text" ng-message="pattern">请输入电话号码格式有误.</p>
                </div>
              </div>
            <div class="form-group" show-errors>
              <label class="control-label" for="community">所属社区</label>
              <select name="community" id="community" ng-model="vm.littlewishData.community" class="form-control"  ng-options="CommunityV.id as CommunityV.name for CommunityV in vm.CommunityV" required></select>
              <!--<input name="community" type="text" ng-model="vm.littlewishData.community" id="community" class="form-control"  required autofocus>-->
              <div ng-messages="vm.littlewishForm.community.$error" role="alert">
                <p class="help-block error-text" ng-message="required">请输入社区.</p>
              </div>
            </div>
            <div class="form-group" ng-if="vm.method === 'view'">
              <label class="control-label" for="state">心愿状态</label>
              <input name="state" type="text" ng-model="vm.littlewishData.state" id="state" class="form-control">
            </div>
            </fieldset>
          </uib-tab>
          <uib-tab index="1" heading="微心愿认领">
            <fieldset ng-disabled="vm.renling">
            <div class="form-group" show-errors>
              <label class="control-label" for="fbperson">认领人身份证号</label>
              <input name="claimpersonID" type="text" ng-model="vm.littlewishData.claimpersonID" id="claimpersonID" class="form-control"  required autofocus maxlength="18" minlength="18" ng-pattern="/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/">
              <div ng-messages="vm.littlewishForm.claimpersonID.$error" role="alert">
                <p class="help-block error-text" ng-message="required">请输入发布人身份证号.</p>
              </div>
              <div ng-messages="vm.littlewishForm.claimpersonID.$error" role="alert">
                <p class="help-block error-text" ng-message="maxlength">最大位数18位.</p>
              </div>
              <div ng-messages="vm.littlewishForm.claimpersonID.$error" role="alert">
                <p class="help-block error-text" ng-message="minlength">最小位数18位.</p>
              </div>
              <div ng-messages="vm.littlewishForm.claimpersonID.$error" role="alert">
                <p class="help-block error-text" ng-message="pattern">身份证有误,请重填.</p>
              </div>
            </div>
            <div class="form-group" ng-if="vm.method === 'view'">
              <label class="control-label" for="claimperson">认领人</label>
              <input name="claimperson" type="text" ng-model="vm.littlewishData.claimperson" id="claimperson" class="form-control">
            </div>
            </fieldset>
          </uib-tab>
        </uib-tabset>
    </form>
  </div>
  <div class="modal-footer">
    <button class="btn btn-primary" ng-if="!vm.renling" ng-click="vm.ok(vm.littlewishForm.$valid)">确认</button>
    <button class="btn btn-warning" ng-click="vm.cancel()">取消</button>
  </div>
</div>
