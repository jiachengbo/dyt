<div class="baseinfomanage-modal">
  <div class="modal-header">
    <h3>{{vm.method}} 党建指导员</h3>
  </div>
  <div class="modal-body col-md-12">
    <form name="vm.partyBuildInstructorTableForm" class="form-horizontal" novalidate>
      <fieldset ng-disabled="vm.disabled">
        <div class="row clearfix">
          <div class="col-xs-6 column" style="margin-top: 0px;margin-bottom: 0px;">
            <div class="form-group row" show-errors>
              <div class="col-xs-12">
                <label for="name">姓名</label>
                <input name="name"
                       type="text"
                       ng-model="vm.partyBuildInstructorTableData.name"
                       id="name"
                       class="form-control"
                       placeholder=""
                       required autofocus>
                <div ng-messages="vm.partyBuildInstructorTableForm.name.$error" role="alert">
                  <p class="help-block error-text" ng-message="required">请输入姓名.</p>
                </div>
              </div>
              <div class="form-group row">
                <div class="col-xs-12">
                  <label>性别</label>
                  <select name="sex"
                          type="text"
                          ng-model="vm.partyBuildInstructorTableData.sex"
                          ng-options="sex.name as sex.name for sex in sexs"
                          class="form-control"
                          placeholder="">
                  </select>
                </div>
              </div>

              <div class="form-group row" show-errors>
                <div class="col-xs-12">
                  <label for="tel">联系电话</label>
                  <input name="tel" type="text"
                         ng-model="vm.partyBuildInstructorTableData.tel"
                         id="tel"
                         class="form-control" placeholder=""
                         ng-minlength="11"
                         maxlength="11"
                         ng-pattern="/^[0-9]*$/"
                         required autofocus>
                  <div
                    ng-show="vm.partyBuildInstructorTableForm.tel.$dirty && vm.partyBuildInstructorTableForm.tel.$invalid"
                    class="has-error" role="alert">
                    <p class="help-block error-text"
                       ng-show="vm.partyBuildInstructorTableForm.tel.$error.pattern||vm.partyBuildInstructorTableForm.tel.$error.minlength">
                      联系电话有误,请重填.</p>
                  </div>
                  <div ng-messages="vm.partyBuildInstructorTableForm.tel.$error" role="alert">
                    <p class="help-block error-text" ng-message="required">请输入联系电话.</p>
                  </div>
                </div>
              </div>


              <div class="form-group row" show-errors>
                <div class="col-xs-12">
                  <label for="address">地址</label>
                  <textarea name="address"
                            type="text"
                            ng-model="vm.partyBuildInstructorTableData.address"
                            id="address"
                            class="form-control"
                            placeholder=""
                            required
                            autofocus>
                    </textarea>
                  <div ng-messages="vm.partyBuildInstructorTableForm.address.$error" role="alert">
                    <p class="help-block error-text" ng-message="required">请输入地址.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-xs-6 column" style="margin-top: 0px;margin-bottom: 0px;">
            <div class="form-group row">
              <div class="col-xs-12">
                <label>照片</label>
                <div class="text-center form-group">
                  <button class="btn btn-default btn-file"
                          ngf-select="(vm.fileSelected = true) && (vm.loading = false)"
                          ng-model="vm.photo"
                          accept="image/*"
                          ngf-before-model-change="vm.loading = true"
                          ngf-resize="{width: 400}"
                          ngf-resize-if="$width > 400 || $height > 400">
                    点击选择照片
                  </button>
                </div>
                <div class="form-group text-center">
                  <img ngf-src="vm.fileSelected ? vm.photo : vm.partyBuildInstructorTableData.photo" alt=""
                       class="img-thumbnail person-profile-picture" ngf-drop>
                </div>
                <div ng-show="vm.loading" class="form-group text-center">
                  <img ng-src="/modules/core/client/img/loaders/loader.gif"
                       height="50"
                       width="50"
                       alt="Loading image...">
                </div>

              </div>
            </div>
          </div>
        </div>

        <div class="row clearfix" ng-show="vm.partyBuildInstructorTableData.party===1||vm.partyBuildInstructorTableData.party===2">
          <div class="col-xs-12 column" style="margin-top: 0px;margin-bottom: 0px;">
            <div class="form-group row">
              <div class="col-xs-12">
              <label>所管理的社区[村]</label>
              </div>
              <div class="col-xs-12">
                <ul>
                  <li class="pbimem_li" ng-repeat="v in vm.sqcs track by $index">
                    <input type="checkbox"
                           value="vm.sqc{{$index}}"
                           ng-model="$parent.sqc[$index]"
                           ng-disabled="false" >
                    {{v.name}}
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!--
               <div class="row clearfix">
                 <div class="col-xs-6 column" style="margin-top: 0px;margin-bottom: 0px;">
                   <div class="form-group row" show-errors>
                     <div class="col-xs-12">
                       <label for="tel">联系电话</label>
                       <input name="instructor_number" type="text"
                              ng-model="vm.partyBuildInstructorTableData.tel"
                              id="tel"
                              class="form-control" placeholder=""
                              ng-minlength="11"
                              maxlength="11"
                              ng-pattern="/^[0-9]*$/"
                              required autofocus>
                       <div
                         ng-show="vm.partyBuildInstructorTableForm.tel.$dirty && vm.partyBuildInstructorTableForm.tel.$invalid"
                         class="has-error" role="alert">
                         <p class="help-block error-text"
                            ng-show="vm.partyBuildInstructorTableForm.tel.$error.pattern||vm.partyBuildInstructorTableForm.tel.$error.minlength">
                           联系电话有误,请重填.</p>
                       </div>
                       <div ng-messages="vm.partyBuildInstructorTableForm.tel.$error" role="alert">
                         <p class="help-block error-text" ng-message="required">请输入联系电话.</p>
                       </div>
                     </div>
                   </div>
                 </div>

                 <div class="col-xs-4 column" style="margin-top: 0px;margin-bottom: 0px;">
                   <div class="form-group row" show-errors>
                     <div class="col-xs-12">
                       <label class="control-label">党建类型</label>
                       <select class="form-control"
                               name="party"
                               required
                               ng-disabled="true"
                               ng-model="vm.partyBuildInstructorTableData.party"
                               ng-options="pt.id as pt.name for pt in vm.partyorg">
                       </select>
                       <div ng-messages="vm.partyBuildInstructorTableForm.party.$error" role="alert">
                         <p class="help-block error-text" ng-message="required">请选择党建类型</p>
                       </div>
                     </div>
                   </div>
                 </div>
                 -->
        <!--
        <div class="col-xs-4 column" style="margin-top: 0px;margin-bottom: 0px;">
          <div class="form-group row" show-errors>
            <div class="col-xs-12">
              <label class="control-label">所属社区</label>
              <select class="form-control"
                      name="communityid"
                      required
                      ng-disabled="vm.userCommId"
                      ng-model="vm.partyBuildInstructorTableData.communityid"
                      ng-options="pt.id as pt.name for pt in communityInfo">
              </select>
              <div ng-messages="vm.partyBuildInstructorTableForm.communityid.$error" role="alert">
                <p class="help-block error-text" ng-message="required">请选择党建类型</p>
              </div>
            </div>
          </div>
        </div>

      </div>-->

      </fieldset>
    </form>
  </div>
  <div class="modal-footer">
    <button class="btn btn-primary"
            style="width: 100px"
            ng-if="!vm.disabled" ng-click="vm.ok(vm.partyBuildInstructorTableForm.$valid)">确定
    </button>
    <button class="btn btn-warning"
            style="width: 100px"
            ng-click="vm.cancel()">取消
    </button>
  </div>
</div>
