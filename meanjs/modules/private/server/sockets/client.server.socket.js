"use strict";function SocketsCtrl(){EventEmitter.call(this)}var path=require("path"),EventEmitter=require("events"),sequelize=require(path.resolve("./config/lib/sequelize")),connSocket=require(path.resolve("./config/private/socket.io")).getConnSocket(),UserTask=require(path.resolve("./modules/private/server/sockets/usertask.server.socket")),mhCfgList=require(path.resolve("./modules/private/server/sockets/client-msghandle-cfglist.server.socket")),constVALUES=require(path.resolve("./modules/global/server/config/const.server.config")),errorHandler=require(path.resolve("./modules/core/server/controllers/errors.server.controller")),logger=require(path.resolve("./config/lib/logger")).getLogger("socketio.client");const RECSTATES=constVALUES.RECSTATES,RECACT=constVALUES.RECACT;SocketsCtrl.prototype=Object.create(EventEmitter.prototype);var socketsCtrl=new SocketsCtrl;module.exports=socketsCtrl;var userTask=new UserTask(mhCfgList,"socketio.client.usertask");connSocket&&(connSocket.on("error",function(e){logger.error("connSocket error:",e)}),connSocket.on("disconnect",function(){logger.info("connSocket disconnect"),userTask.clearUser(connSocket.usernameOrEmail)}),connSocket.on("connect",function(){logger.info("connSocket id %s connected %s",connSocket.id,connSocket.connected),userTask.runTask(connSocket.usernameOrEmail,connSocket)}));